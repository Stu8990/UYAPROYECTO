<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Game Board - Bamboozle</title>
    
    <!-- CSS -->
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/components.css" rel="stylesheet">
    <link href="../css/image-game.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="../img/logo.png">
</head>
<body class="min-h-screen">
    <a href="#main-content" class="skip-to-content">Saltar al contenido principal</a>
    <div id="sr-live-region" class="sr-live-region" aria-live="polite" aria-atomic="true"></div>

    <!-- Navegaci√≥n -->
    <header class="header">
        <nav class="nav">
            <div class="flex items-center space-x-8">
                <a href="game-main.html" class="nav-brand hover:opacity-70">
                    <span class="sr-only">Ir a la p√°gina principal</span>
                    <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                        <path d="M2.12499 15.8749H3.49999V25.4999C3.49999 27.0124 4.73749 28.2499 6.24999 28.2499H22.75C24.2625 28.2499 25.5 27.0124 25.5 25.4999V15.8749H26.875C27.425 15.8749 27.9337 15.5449 28.14 15.0224C28.3462 14.5137 28.2362 13.9224 27.8375 13.5237L15.4762 1.14869C15.349 1.02123 15.1979 0.920097 15.0316 0.851098C14.8653 0.782098 14.6869 0.746582 14.5069 0.746582C14.3268 0.746582 14.1485 0.782098 13.9821 0.851098C13.8158 0.920097 13.6647 1.02123 13.5375 1.14869L1.14874 13.5237C0.749992 13.9224 0.639992 14.5137 0.846242 15.0224C1.05249 15.5312 1.56124 15.8749 2.11124 15.8749H2.12499ZM14.5 4.06369L22.75 12.3137V25.4999H6.24999V12.3137L14.5 4.06369Z" fill="#ECECEC"/>
                    </svg>
                </a>
                
                <div class="nav-links">
                    <a href="#" class="nav-link">Games</a>
                    <a href="#" class="nav-link">Blog</a>
                    <a href="#" class="nav-link">Class PIN</a>
                </div>
            </div>
            
            <div class="nav-links">
                <a href="#" class="nav-link">Sign in</a>
                <a href="#" class="btn btn-rounded bg-accessible-blue" style="color: #fff; opacity: 1;">
                    Join for Free
                </a>
            </div>
            
            <button id="hamburger-btn" class="hamburger">‚ò∞</button>
        </nav>
    </header>

    <!-- Bloque de Controles Superior -->
    <div class="bg-gradient-to-r from-blue-600 to-teal-600 text-white py-4 px-6">
        <div class="container grid grid-cols-1 md:grid-cols-3 items-center gap-4">
            <!-- Controles -->
            <div class="flex items-center space-x-2 justify-center md:justify-start">
                <span class="font-bold">Controls:</span>
                <button class="btn btn-icon btn-sm bg-white/20 hover:bg-white/30" onclick="window.location.href='game-main.html'">
                    &times;
                </button>
                <button class="btn btn-icon btn-sm bg-white/20 hover:bg-white/30" id="zoom-toggle" title="Zoom mode">
                    üîç
                </button>
                <button class="btn btn-icon btn-sm bg-white/20 hover:bg-white/30" id="fullscreen-toggle" title="Pantalla completa">
                    üñºÔ∏è
                </button>
            </div>
            
            <!-- T√≠tulo del Juego -->
            <div class="text-center">
                <h1 class="text-4xl font-bold">üñºÔ∏è Visual Discovery</h1>
                <p id="game-title" class="font-semibold">Interactive Image Learning Challenge</p>
            </div>
            
            <!-- Stats -->
            <div class="text-center md:text-right">
                <div class="text-sm bg-white/20 px-4 py-2 rounded-lg">
                    <div>Images revealed: <span id="images-revealed">0</span>/6</div>
                    <div>Questions left: <span id="questions-left">6</span></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bloque de Puntuaciones -->
    <div class="bg-gradient-to-r from-blue-700 to-teal-700 text-white py-4 px-6">
        <div class="container grid grid-cols-1 md:grid-cols-3 items-center gap-4">
            <!-- Editar Equipos -->
            <div class="flex items-center justify-center md:justify-start space-x-2">
                <span class="font-bold">Edit teams:</span>
                <button class="btn btn-icon btn-sm hover:bg-white/20" aria-label="edit teams">
                    <svg class="h-6 w-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                    </svg>
                </button>
            </div>
            
            <!-- Puntuaciones de Equipos -->
            <div class="flex justify-center items-end space-x-8 col-span-1">
                <div id="team1-container" class="text-center">
                    <div class="bg-emerald-400 text-gray-800 px-4 py-1 rounded-t-lg font-bold">
                        <span id="team1-name">Team 1</span>
                    </div>
                    <div class="font-bold text-3xl text-emerald-200">
                        <span id="team1-score">0 points</span>
                    </div>
                </div>
                
                <div id="team2-container" class="text-center">
                    <div class="bg-cyan-400 text-gray-800 px-4 py-1 rounded-t-lg font-bold">
                        <span id="team2-name">Team 2</span>
                    </div>
                    <div class="font-bold text-3xl text-emerald-200">
                        <span id="team2-score">0 points</span>
                    </div>
                </div>
            </div>
            
            <!-- Image Controls -->
            <div class="flex justify-center md:justify-end space-x-2">
                <button id="hint-mode" class="btn btn-sm bg-white/20 hover:bg-white/30 text-white">
                    üí° Hint Mode
                </button>
                <button id="gallery-view" class="btn btn-sm bg-white/20 hover:bg-white/30 text-white">
                    üñºÔ∏è Gallery
                </button>
            </div>
        </div>
    </div>

    <!-- Tablero de Im√°genes -->
    <main id="main-content" role="main" class="bg-gradient-to-b from-blue-50 to-teal-50 p-4 md:p-8 min-h-screen">
        <div class="container">
            <div class="text-center mb-6">
                <p class="text-gray-700 mb-2 text-lg">Current turn: <span id="current-team" class="font-bold text-blue-600">Team 1</span></p>
                <p class="text-gray-600 mb-4">üñºÔ∏è Click on an image to reveal it and answer the question!</p>
                <div class="flex justify-center space-x-4 flex-wrap gap-2">
                    <button id="restart-button" class="btn btn-danger">üîÑ Restart Game</button>
                    <button class="btn btn-secondary" onclick="window.location.href='game-main.html'">‚¨ÖÔ∏è Back to Setup</button>
                    <button id="instructions-btn" class="btn btn-info">‚ùì How to Play</button>
                    <button id="reveal-all-btn" class="btn btn-warning">üëÅÔ∏è Reveal All</button>
                </div>
            </div>
            
            <div id="image-game-board" class="grid grid-cols-2 md:grid-cols-3 gap-6">
                <!-- Image tiles se generan din√°micamente -->
            </div>
            
            <!-- Loading indicator -->
            <div id="loading-images" class="text-center py-8 hidden">
                <div class="loading-spinner mx-auto mb-4"></div>
                <p class="text-gray-600">Loading images...</p>
            </div>
        </div>
    </main>

    <!-- Image Modal -->
    <div id="image-modal" class="modal-backdrop hidden">
        <div class="modal modal-lg">
            <div class="modal-header bg-gradient-to-r from-blue-600 to-teal-600 text-white">
                <h3 id="image-modal-title" class="modal-title text-white">üñºÔ∏è Picture Challenge</h3>
                <button class="modal-close text-white hover:text-gray-300">&times;</button>
            </div>
            <div class="modal-body p-0">
                <!-- Image container -->
                <div id="image-container" class="image-container">
                    <img id="challenge-image" class="challenge-image" src="" alt="Challenge image">
                    <div id="image-overlay" class="image-overlay">
                        <div class="text-gray-600 text-center">
                            <div class="text-6xl mb-4">üñºÔ∏è</div>
                            <p class="text-xl">Loading image...</p>
                            <p class="text-sm mt-2">Please wait</p>
                        </div>
                    </div>
                    <!-- Zoom controls -->
                    <div id="zoom-controls" class="zoom-controls">
                        <button id="zoom-in" class="btn btn-sm bg-black/50 text-white hover:bg-black/70">üîç+</button>
                        <button id="zoom-out" class="btn btn-sm bg-black/50 text-white hover:bg-black/70">üîç-</button>
                        <button id="zoom-reset" class="btn btn-sm bg-black/50 text-white hover:bg-black/70">‚Üª</button>
                    </div>
                </div>
                
                <!-- Question section -->
                <div class="bg-white p-6">
                    <div id="image-question-content">
                        <h4 class="text-xl font-bold mb-4 text-blue-800">What do you see in this image?</h4>
                        <p id="image-question-text" class="text-lg mb-4 bg-blue-50 p-4 rounded-lg"></p>
                        <div class="text-center">
                            <button id="show-image-answer-btn" class="btn btn-primary btn-lg">
                                üéØ Show Answer
                            </button>
                        </div>
                    </div>
                    
                    <div id="image-answer-content" class="hidden">
                        <h4 class="text-xl font-bold mb-4 text-green-800">Correct Answer:</h4>
                        <div class="bg-green-50 p-4 rounded-lg mb-6">
                            <p id="image-answer-text" class="text-lg text-green-800"></p>
                        </div>
                        <div class="flex justify-center space-x-4">
                            <button id="image-correct-btn" class="btn btn-success btn-lg">
                                ‚úÖ Correct (+15 pts)
                            </button>
                            <button id="image-incorrect-btn" class="btn btn-danger btn-lg">
                                ‚ùå Incorrect (0 pts)
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div id="gallery-modal" class="modal-backdrop hidden">
        <div class="modal modal-lg">
            <div class="modal-header bg-gradient-to-r from-blue-600 to-teal-600 text-white">
                <h3 class="modal-title text-white">üñºÔ∏è Image Gallery</h3>
                <button class="modal-close text-white hover:text-gray-300">&times;</button>
            </div>
            <div class="modal-body">
                <div id="gallery-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <!-- Gallery images populated dynamically -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary close-modal-btn">Close Gallery</button>
            </div>
        </div>
    </div>

    <!-- Instructions Modal -->
    <div id="instructions-modal" class="modal-backdrop hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üñºÔ∏è How to Play - Visual Discovery</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="space-y-4">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h4 class="font-bold text-blue-800 mb-2">üéØ Objective:</h4>
                        <p>Look at images carefully and answer questions to earn points for your team!</p>
                    </div>
                    
                    <div class="bg-teal-50 p-4 rounded-lg">
                        <h4 class="font-bold text-teal-800 mb-2">üìã How to Play:</h4>
                        <ol class="list-decimal list-inside space-y-1">
                            <li>Click on an image tile to reveal the picture</li>
                            <li>Study the image carefully</li>
                            <li>Use zoom controls if needed (üîç+, üîç-, ‚Üª)</li>
                            <li>Read the question about the image</li>
                            <li>Discuss with your team</li>
                            <li>Click "Show Answer" when ready</li>
                            <li>Mark if your answer was correct or not</li>
                        </ol>
                    </div>
                    
                    <div class="bg-emerald-50 p-4 rounded-lg">
                        <h4 class="font-bold text-emerald-800 mb-2">üèÜ Scoring:</h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Correct answer: +15 points</li>
                            <li>Incorrect answer: 0 points</li>
                            <li>Team with most points wins!</li>
                        </ul>
                    </div>
                    
                    <div class="bg-cyan-50 p-4 rounded-lg">
                        <h4 class="font-bold text-cyan-800 mb-2">üí° Tips:</h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Use the zoom controls to see details</li>
                            <li>Look for patterns, colors, and objects</li>
                            <li>Pay attention to background elements</li>
                            <li>Use "Gallery" to see all revealed images</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary close-modal-btn">Got it!</button>
            </div>
        </div>
    </div>

    <!-- Men√∫ m√≥vil -->
    <div id="mobile-menu" class="mobile-menu">
        <button id="close-menu-btn" class="mobile-menu-close">&times;</button>
        <nav class="mobile-menu-links">
            <a href="#" class="mobile-menu-link">Games</a>
            <a href="#" class="mobile-menu-link">Blog</a>
            <a href="#" class="mobile-menu-link">Class PIN</a>
            <hr class="border-gray-600 my-4"/>
            <a href="#" class="mobile-menu-link">Sign in</a>
            <a href="#" class="btn btn-primary btn-rounded text-center">Join for Free</a>
        </nav>
    </div>

    <!-- Scripts -->
    <script src="../js/utils.js"></script>
    <script src="../js/ui.js"></script>
    <script src="../js/game.js"></script>
    <script src="../js/keyboard-shortcuts.js"></script>
    <script src="../js/accessibility-enhancer.js"></script>
    <script src="../js/image-game-controller.js"></script>
</body>
</html>