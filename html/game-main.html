<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Gerund - Bammoozle</title>
    
    <!-- CSS -->
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/components.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen">

    <!-- Navegación -->
    <header class="header">
        <nav class="nav">
            <div class="flex items-center space-x-8">
                <a href="../index.html" class="nav-brand hover:opacity-70">
                    <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.12499 15.8749H3.49999V25.4999C3.49999 27.0124 4.73749 28.2499 6.24999 28.2499H22.75C24.2625 28.2499 25.5 27.0124 25.5 25.4999V15.8749H26.875C27.425 15.8749 27.9337 15.5449 28.14 15.0224C28.3462 14.5137 28.2362 13.9224 27.8375 13.5237L15.4762 1.14869C15.349 1.02123 15.1979 0.920097 15.0316 0.851098C14.8653 0.782098 14.6869 0.746582 14.5069 0.746582C14.3268 0.746582 14.1485 0.782098 13.9821 0.851098C13.8158 0.920097 13.6647 1.02123 13.5375 1.14869L1.14874 13.5237C0.749992 13.9224 0.639992 14.5137 0.846242 15.0224C1.05249 15.5312 1.56124 15.8749 2.11124 15.8749H2.12499ZM14.5 4.06369L22.75 12.3137V25.4999H6.24999V12.3137L14.5 4.06369Z" fill="#ECECEC"/>
                    </svg>
                </a>
                
                <div class="nav-links">
                    <a href="#" class="nav-link">Games</a>
                    <a href="#" class="nav-link">Blog</a>
                    <a href="#" class="nav-link">Class PIN</a>
                </div>
            </div>
            
            <div class="nav-links">
                <a href="#" class="nav-link">Sign in</a>
                <a href="#" class="btn btn-info btn-sm btn-rounded">Join for Free</a>
            </div>
            
            <button id="hamburger-btn" class="hamburger">☰</button>
        </nav>
    </header>

    <!-- Título de la página -->
    <div class="bg-bam-yellow text-bam-dark p-6">
        <div class="container flex justify-between items-center flex-wrap gap-4">
            <div>
                <h1 id="game-title" class="text-4xl font-bold">Game Gerund</h1>
                <p class="font-semibold">Verbs followed by gerunds or infinitive (no diff...)</p>
            </div>
            <div class="flex items-center space-x-2">
                
                <div class="bg-bam-green rounded-full p-2 w-10 h-10 flex items-center justify-center">
                    <span class="text-white font-bold text-2xl">?</span>
                </div>
                <div class="bg-blue-200 text-blue-800 text-xs p-2 rounded-lg max-w-[150px]">
                    Use this if you need it for better understanding.
                </div>
            </div>
        </div>
    </div>

    <!-- Contenido Principal -->
    <main class="container grid grid-cols-1 lg:grid-cols-3 gap-8 p-4 md:p-8">
        
        <!-- Columna Izquierda: Command Center -->
        <aside class="lg:col-span-1 space-y-6">
            <div class="card">
                <div class="card-header">
                    <div class="flex items-center gap-2">
                        <h2 class="card-title">Command Center:</h2>
                        <div class="help-tooltip tooltip-right">
                            <div class="help-circle">?</div>
                            <div class="tooltip-content">
                                <strong>Game Control Hub</strong><br>
                                From here you can manage your entire game experience:
                                <br><br>
                                <strong>Game Code:</strong> Share with other players to join<br>
                                <strong>Play:</strong> Start the game with different game modes<br>
                                <strong>Study:</strong> Practice questions individually<br>
                                <strong>Share:</strong> Get shareable link for your game
                            </div>
                        </div>
                    </div>
                    <p class="card-subtitle">Press the buttons to do something.</p>
                </div>
                
                <div class="card-body">
                    <div class="help-tooltip tooltip-right">
                        <div class="bg-bam-blue text-white rounded-lg p-4 text-center mb-4">
                            <p class="text-sm">Game Code:</p>
                            <p id="game-code" class="text-4xl font-bold tracking-widest">1054334</p>
                            <p class="text-xs mt-1">Use this to share the game with others.</p>
                        </div>
                        <div class="tooltip-content">
                            <strong>Game Access Code</strong><br>
                            This unique code identifies your game session. Students can:
                            <br><br>
                            • Enter this code on the main page<br>
                            • Join your game session instantly<br>
                            • Access from any device<br>
                            <br>
                            <strong>Tip:</strong> Code remains active during the entire session.
                        </div>
                    </div>
                    
                    <p id="game-instruction" class="text-sm text-gray-500 mb-4">Instruction: Say the two possible forms.</p>
                    
                    <div class="grid grid-cols-1 gap-3">
                        <button id="play-button" class="btn btn-danger btn-lg">Play</button>
                        <button class="btn btn-info btn-lg" onclick="window.location.href='study.html'">Study</button>
                        <button class="btn btn-lg" style="background-color: var(--bam-pink); color: white;">Slideshow</button>
                        <button id="share-button" class="btn btn-primary btn-lg">Share</button>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-body">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-2">
                            <svg class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1.5V1C15 0.45 14.55 0 14 0H10C9.45 0 9 0.45 9 1V1.5L3 7V9L4.5 7.5L12 15L19.5 7.5L21 9ZM12 13.5L6.5 8L12 2.5L17.5 8L12 13.5Z"/>
                            </svg>
                            <span class="font-bold">Jane Doe</span>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button class="btn btn-icon btn-sm hover:text-bam-purple">
                                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                                </svg>
                            </button>
                            <button class="btn btn-icon btn-sm hover:text-bam-purple">
                                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                            <button class="btn btn-icon btn-sm hover:text-bam-purple">
                                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-6a1 1 0 00-1-1H9a1 1 0 00-1 1v6a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h6v4H7V5zm0 6h6v2H7v-2z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                            <button class="btn btn-icon btn-sm hover:text-bam-red">
                                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </div>
                        <div class="flex items-center space-x-1 text-bam-dark">
                            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/>
                                <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"/>
                            </svg>
                            <span>123</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Columna Derecha: Tarjetas de Juego -->
        <div class="lg:col-span-2">
            <div class="flex justify-between items-start mb-4">
                <div class="flex items-center gap-2">
                    <h2 class="text-2xl font-bold">What you will see in this game:</h2>
                    <div class="help-tooltip tooltip-right">
                        <div class="help-circle">?</div>
                        <div class="tooltip-content">
                            <strong>Question Preview</strong><br>
                            These are the cards that will be in the game. Here you can familiarize with them before playing.
                            <br><br>
                            <strong>How to use:</strong><br>
                            • Click on any card to see the answer<br>
                            • Use "Show/Hide" buttons to reveal all answers<br>
                            • Each card has a score (default 15 points)
                        </div>
                    </div>
                </div>
                <div class="bg-bam-green text-bam-dark rounded-lg p-3 text-center">
                    <p class="text-sm font-bold mb-2">Press Show to see all the answers.</p>
                    <div class="flex space-x-2">
                        <div class="help-tooltip tooltip-left">
                            <button class="btn btn-sm bg-black/20">Show</button>
                            <div class="tooltip-content">
                                <strong>Show All</strong><br>
                                Reveals all answers at once for quick review.
                            </div>
                        </div>
                        <div class="help-tooltip tooltip-left">
                            <button class="btn btn-sm bg-black/40">Hide</button>
                            <div class="tooltip-content">
                                <strong>Hide All</strong><br>
                                Hides all visible answers to return to the initial state.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p class="text-sm text-gray-500 -mt-2 mb-4">These are the cards that will be in the game, here you can familiarize with them. Each one of them has a score (by default it's 15).</p>
            
            <div class="grid-responsive cols-2" id="game-cards">
                <!-- Las tarjetas se generarán con JavaScript -->
            </div>
        </div>
    </main>
    
    <!-- Modal: Seleccionar Tipo de Juego -->
    <div id="play-modal" class="modal-backdrop hidden">
        <div class="modal modal-lg">
            <div class="modal-header">
                <div class="flex justify-between items-center">
                    <h2 class="modal-title">Play for free</h2>
                    <button id="close-play-modal" class="text-gray-500 hover:text-gray-700 text-2xl font-bold">&times;</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                    <div class="card bg-purple-200 text-center cursor-pointer hover:bg-purple-300 transition-colors" onclick="startBaamboozleGame()">
                        <div class="card-body">
                            <img src="https://placehold.co/150x150/C4B5FD/312E81?text=Baamboozle" class="rounded-md mx-auto mb-2" alt="Baamboozle">
                            <p class="font-bold">Baamboozle</p>
                        </div>
                    </div>
                    <div class="card bg-orange-200 text-center cursor-pointer hover:bg-orange-300 transition-colors">
                        <div class="card-body">
                            <img src="https://placehold.co/150x150/FED7AA/9A3412?text=Spud+Game" class="rounded-md mx-auto mb-2" alt="Spud Game">
                            <p class="font-bold">SPUD GAME</p>
                        </div>
                    </div>
                    <div class="card bg-pink-200 text-center cursor-pointer hover:bg-pink-300 transition-colors">
                        <div class="card-body">
                            <img src="https://placehold.co/150x150/FBCFE8/831843?text=Bowling" class="rounded-md mx-auto mb-2" alt="Bowling">
                            <p class="font-bold">Bowling</p>
                        </div>
                    </div>
                    <div class="card bg-red-200 text-center cursor-pointer hover:bg-red-300 transition-colors">
                        <div class="card-body">
                            <img src="https://placehold.co/150x150/FECACA/991B1B?text=B-Ball" class="rounded-md mx-auto mb-2" alt="B-Ball">
                            <p class="font-bold">B-Ball</p>
                        </div>
                    </div>
                    <div class="card bg-cyan-200 text-center cursor-pointer hover:bg-cyan-300 transition-colors">
                        <div class="card-body">
                            <img src="https://placehold.co/150x150/A5F3FC/0E7490?text=Snakes" class="rounded-md mx-auto mb-2" alt="Snakes and Ladders">
                            <p class="font-bold">SNAKES AND LADDERS</p>
                        </div>
                    </div>
                    <div class="card bg-green-200 text-center cursor-pointer hover:bg-green-300 transition-colors">
                        <div class="card-body">
                            <img src="https://placehold.co/150x150/BEF264/3F6212?text=Egg+Hunt" class="rounded-md mx-auto mb-2" alt="Egg Hunt">
                            <p class="font-bold">Egg Hunt</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-info">More</button>
            </div>
        </div>
    </div>

    <!-- Modal: Compartir -->
    <div id="share-modal" class="modal-backdrop hidden">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Share Verbs followed by gerunds or infinitive (no difference)</h2>
            </div>
            <div class="modal-body">
                <div class="input-with-icon">
                    <input type="text" readonly value="https://www.baamboozle.com/game/1054334" class="form-input">
                    <button class="input-icon text-gray-500 hover:text-gray-800">
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"/>
                            <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"/>
                            <path d="M6 8a2 2 0 012-2h4a2 2 0 012 2v1a2 2 0 01-2 2H8a2 2 0 01-2-2V8zM8 10a1 1 0 000 2h4a1 1 0 100-2H8z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button id="close-share-modal" class="btn btn-primary">Close</button>
            </div>
        </div>
    </div>

    <!-- Menú móvil -->
    <div id="mobile-menu" class="mobile-menu">
        <button id="close-menu-btn" class="mobile-menu-close">&times;</button>
        <nav class="mobile-menu-links">
            <a href="#" class="mobile-menu-link">Games</a>
            <a href="#" class="mobile-menu-link">Blog</a>
            <a href="#" class="mobile-menu-link">Class PIN</a>
            <hr class="border-gray-600 my-4"/>
            <a href="#" class="mobile-menu-link">Sign in</a>
            <a href="#" class="btn btn-primary btn-rounded text-center">Join for Free</a>
        </nav>
    </div>

    <!-- Scripts -->
    <script src="../js/utils.js"></script>
    <script src="../js/ui.js"></script>
    <script src="../js/game.js"></script>
    <script>
        // Lógica específica para esta página
        document.addEventListener('DOMContentLoaded', function() {
            // Generar tarjetas de juego
            const gameCards = document.getElementById('game-cards');
            const { GameData } = window.BammoozleGame;
            
            if (gameCards && GameData) {
                GameData.questions.forEach((question, index) => {
                    const card = document.createElement('div');
                    card.className = 'card study-card preview-card';
                    card.dataset.questionIndex = index;
                    card.innerHTML = `
                        <div class="card-body">
                            <p class="text-lg mb-4 question-text">${question.question}</p>
                            <div class="answer-text hidden bg-blue-50 p-3 rounded-lg mt-4">
                                <p class="font-semibold text-blue-800 mb-2">Respuesta:</p>
                                <p class="text-blue-700">${question.answer}</p>
                            </div>
                        </div>
                        <div class="card-footer">
                            <p class="font-bold text-bam-grey-dark">v ${question.points}</p>
                            <div class="flex items-center space-x-2">
                                <button class="btn btn-primary btn-icon toggle-answer-btn" data-index="${index}" title="Ver respuesta">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    `;
                    
                    // Añadir evento de clic a la tarjeta completa
                    card.addEventListener('click', function(e) {
                        // Si se hizo clic en el botón, no expandir
                        if (e.target.closest('.toggle-answer-btn')) {
                            return;
                        }
                        toggleCardAnswer(card, index);
                    });
                    
                    // Añadir evento específico al botón
                    const toggleBtn = card.querySelector('.toggle-answer-btn');
                    toggleBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        toggleCardAnswer(card, index);
                    });
                    
                    gameCards.appendChild(card);
                });
            }
            
            // Función para alternar la respuesta de una tarjeta
            function toggleCardAnswer(cardElement, questionIndex) {
                const answerDiv = cardElement.querySelector('.answer-text');
                const toggleBtn = cardElement.querySelector('.toggle-answer-btn');
                const isExpanded = !answerDiv.classList.contains('hidden');
                
                if (isExpanded) {
                    // Ocultar respuesta
                    answerDiv.classList.add('hidden');
                    cardElement.classList.remove('expanded');
                    toggleBtn.innerHTML = `
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    `;
                    toggleBtn.title = "Ver respuesta";
                } else {
                    // Mostrar respuesta
                    answerDiv.classList.remove('hidden');
                    cardElement.classList.add('expanded');
                    toggleBtn.innerHTML = `
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                    `;
                    toggleBtn.title = "Ocultar respuesta";
                    
                    // Añadir animación suave
                    answerDiv.style.opacity = '0';
                    setTimeout(() => {
                        answerDiv.style.transition = 'opacity 0.3s ease-in-out';
                        answerDiv.style.opacity = '1';
                    }, 10);
                }
            }
            
            // Botones "Show/Hide" globales
            const showBtn = document.querySelector('.btn.bg-black\\/20');
            const hideBtn = document.querySelector('.btn.bg-black\\/40');
            
            if (showBtn) {
                showBtn.addEventListener('click', function() {
                    const allCards = document.querySelectorAll('.preview-card');
                    allCards.forEach((card, index) => {
                        const answerDiv = card.querySelector('.answer-text');
                        if (answerDiv.classList.contains('hidden')) {
                            toggleCardAnswer(card, index);
                        }
                    });
                });
            }
            
            if (hideBtn) {
                hideBtn.addEventListener('click', function() {
                    const allCards = document.querySelectorAll('.preview-card');
                    allCards.forEach((card, index) => {
                        const answerDiv = card.querySelector('.answer-text');
                        if (!answerDiv.classList.contains('hidden')) {
                            toggleCardAnswer(card, index);
                        }
                    });
                });
            }
        });
    </script>
</body>
</html>